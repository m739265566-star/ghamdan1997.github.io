<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ© - ŸÖŸÜ ÿ≥Ÿäÿ±ÿ®ÿ≠ ÿßŸÑŸÖŸÑŸäŸàŸÜ</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ========== RESET & BASE STYLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ */
            --primary-color: #6C63FF;
            --primary-dark: #554FD8;
            --primary-light: #8A84FF;
            --primary-50: rgba(108, 99, 255, 0.05);
            --primary-100: rgba(108, 99, 255, 0.1);
            --primary-200: rgba(108, 99, 255, 0.2);
            --primary-300: rgba(108, 99, 255, 0.3);
            
            --secondary-color: #FF6584;
            --secondary-dark: #E55A7A;
            --secondary-light: #FF7A96;
            --secondary-100: rgba(255, 101, 132, 0.1);
            --secondary-200: rgba(255, 101, 132, 0.2);
            
            --accent-color: #36D1DC;
            --accent-dark: #2AB7C1;
            --accent-light: #5BDCE6;
            --accent-100: rgba(54, 209, 220, 0.1);
            
            --dark-color: #1A1A2E;
            --dark-light: #2D2D44;
            --dark-lighter: #3A3A54;
            
            --light-color: #F8F9FA;
            --light-dark: #E9ECEF;
            --light-darker: #DEE2E6;
            
            /* ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿØÿ±ÿ¨ÿßÿ™ */
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            --gradient-secondary: linear-gradient(135deg, var(--secondary-color), var(--secondary-dark));
            --gradient-accent: linear-gradient(135deg, var(--accent-color), var(--accent-dark));
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --gradient-5: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --gradient-6: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            --gradient-7: linear-gradient(135deg, var(--accent-color) 0%, #5B86E5 100%);
            
            /* ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ∏ŸÑÿßŸÑ */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
            --shadow-xl: 0 20px 50px rgba(0, 0, 0, 0.2);
            --shadow-primary: 0 10px 30px rgba(108, 99, 255, 0.3);
            --shadow-secondary: 0 10px 30px rgba(255, 101, 132, 0.3);
            --shadow-accent: 0 10px 30px rgba(54, 209, 220, 0.3);
            
            /* ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ ÿßŸÑÿ≤ÿ¨ÿßÿ¨ */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --blur-amount: blur(20px);
            
            /* ÿßŸÑÿ™ÿ≠ŸàŸÑÿßÿ™ ŸàÿßŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ */
            --transition-fast: 0.3s ease;
            --transition-normal: 0.5s ease;
            --transition-slow: 0.8s ease;
            --transition-bounce: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* ÿßŸÑÿ£ÿ®ÿπÿßÿØ */
            --border-radius-sm: 8px;
            --border-radius-md: 15px;
            --border-radius-lg: 25px;
            --border-radius-xl: 50px;
            --border-radius-full: 9999px;
            
            /* ÿßŸÑŸÖÿ≥ÿßŸÅÿßÿ™ */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            --space-24: 6rem;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
            color: white;
            min-height: 100vh;
            direction: rtl;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* ========== ANIMATIONS ========== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        @keyframes glow {
            0%, 100% {
                text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            }
            50% {
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.4);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* ========== LOADING SCREEN ========== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            width: 80px;
            height: 80px;
            position: relative;
            margin-bottom: var(--space-6);
        }

        .loader-circle {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 8px solid transparent;
            border-top-color: var(--primary-color);
            animation: spin 1s linear infinite;
        }

        .loader-circle:nth-child(2) {
            border: 8px solid transparent;
            border-bottom-color: var(--accent-color);
            animation: spin 1.5s linear infinite reverse;
        }

        .loading-text {
            font-size: 1.2rem;
            color: var(--accent-color);
            text-align: center;
            margin-top: var(--space-4);
            animation: pulse 2s infinite;
        }

        /* ========== BACKGROUND ANIMATION ========== */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: var(--gradient-6);
            animation: float 20s infinite linear;
            filter: blur(1px);
            opacity: 0.1;
        }

        .gradient-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle at 20% 50%, 
                rgba(108, 99, 255, 0.1) 0%, 
                transparent 50%
            ),
            radial-gradient(
                circle at 80% 20%, 
                rgba(255, 101, 132, 0.1) 0%, 
                transparent 50%
            ),
            radial-gradient(
                circle at 40% 80%, 
                rgba(54, 209, 220, 0.1) 0%, 
                transparent 50%
            );
        }

        /* ========== GAME CONTAINER ========== */
        .game-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-6);
        }

        .game-wrapper {
            background: rgba(42, 42, 68, 0.8);
            backdrop-filter: var(--blur-amount);
            -webkit-backdrop-filter: var(--blur-amount);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            max-width: 1200px;
            width: 100%;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease;
        }

        /* ========== GAME HEADER ========== */
        .game-header {
            text-align: center;
            margin-bottom: var(--space-8);
            position: relative;
        }

        .game-logo {
            display: inline-flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-4);
            animation: bounce 2s infinite;
        }

        .game-logo i {
            font-size: 3rem;
            color: var(--accent-color);
            filter: drop-shadow(0 0 10px rgba(54, 209, 220, 0.5));
        }

        .game-title {
            font-family: 'El Messiri', serif;
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient-6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-2);
            text-shadow: 0 0 30px rgba(108, 99, 255, 0.3);
        }

        .game-subtitle {
            font-size: 1.2rem;
            color: var(--accent-color);
            opacity: 0.9;
            margin-bottom: var(--space-6);
        }

        /* ========== PLAYER STATS ========== */
        .player-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
            background: rgba(0, 0, 0, 0.3);
            padding: var(--space-6);
            border-radius: var(--border-radius-md);
            margin-bottom: var(--space-6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item {
            text-align: center;
            padding: var(--space-4);
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-fast);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(108, 99, 255, 0.2);
            border: 1px solid rgba(108, 99, 255, 0.3);
        }

        .stat-label {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: var(--space-2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(54, 209, 220, 0.5);
        }

        .money-value {
            color: #FFD700;
            animation: glow 2s infinite alternate;
        }

        /* ========== PRIZE LADDER ========== */
        .prize-ladder-container {
            margin: var(--space-8) 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--border-radius-md);
            padding: var(--space-6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .prize-ladder-title {
            text-align: center;
            font-size: 1.3rem;
            color: var(--accent-color);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
        }

        .prize-ladder {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
            max-height: 300px;
            overflow-y: auto;
            padding: var(--space-2);
        }

        .prize-ladder::-webkit-scrollbar {
            width: 8px;
        }

        .prize-ladder::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .prize-ladder::-webkit-scrollbar-thumb {
            background: var(--gradient-6);
            border-radius: 4px;
        }

        .prize-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-3) var(--space-4);
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-fast);
            border: 1px solid transparent;
        }

        .prize-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .prize-item.current {
            background: linear-gradient(90deg, rgba(108, 99, 255, 0.3), rgba(54, 209, 220, 0.3));
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(108, 99, 255, 0.3);
            transform: scale(1.02);
        }

        .prize-item.reached {
            background: rgba(76, 175, 80, 0.15);
            border-left: 4px solid #4CAF50;
        }

        .prize-level {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 600;
            color: white;
        }

        .prize-amount {
            font-weight: 700;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        /* ========== PROGRESS BAR ========== */
        .progress-container {
            margin: var(--space-6) 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-6);
            border-radius: var(--border-radius-full);
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 100%
            );
            animation: shimmer 2s infinite;
        }

        /* ========== TIMER ========== */
        .timer-container {
            text-align: center;
            margin: var(--space-6) 0;
        }

        .timer {
            display: inline-block;
            font-size: 1.8rem;
            font-weight: 800;
            background: rgba(0, 0, 0, 0.4);
            padding: var(--space-3) var(--space-8);
            border-radius: var(--border-radius-full);
            border: 3px solid var(--accent-color);
            box-shadow: 0 0 20px rgba(54, 209, 220, 0.2);
            color: var(--accent-color);
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .timer.warning {
            color: #FF9800;
            border-color: #FF9800;
            box-shadow: 0 0 25px rgba(255, 152, 0, 0.3);
            animation: pulse 1s infinite;
        }

        .timer.danger {
            color: #F44336;
            border-color: #F44336;
            box-shadow: 0 0 30px rgba(244, 67, 54, 0.4);
            animation: pulse 0.5s infinite;
        }

        /* ========== QUESTION CONTAINER ========== */
        .question-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            border: 2px solid rgba(108, 99, 255, 0.3);
            box-shadow: var(--shadow-primary);
            transition: all var(--transition-normal);
        }

        .question-container:hover {
            border-color: rgba(108, 99, 255, 0.5);
            box-shadow: 0 15px 40px rgba(108, 99, 255, 0.2);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question-number {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-color);
            background: rgba(0, 0, 0, 0.3);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--border-radius-full);
        }

        .category-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            background: var(--gradient-6);
            color: white;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--border-radius-full);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .prize-display {
            text-align: center;
            margin: var(--space-6) 0;
        }

        .prize-amount-large {
            font-size: 3rem;
            font-weight: 900;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: glow 2s infinite alternate;
            display: inline-block;
            padding: var(--space-2) var(--space-6);
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--border-radius-md);
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .question-text {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--border-radius-md);
            padding: var(--space-6);
            font-size: 1.4rem;
            line-height: 1.8;
            text-align: center;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: var(--space-6);
            animation: fadeIn 0.5s ease;
        }

        /* ========== ANSWERS GRID ========== */
        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }

        @media (max-width: 768px) {
            .answers-grid {
                grid-template-columns: 1fr;
            }
        }

        .answer-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: var(--border-radius-md);
            padding: var(--space-5) var(--space-4);
            color: white;
            font-family: 'Cairo', sans-serif;
            font-size: 1.2rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--space-4);
            text-align: right;
            min-height: 80px;
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease;
            animation-fill-mode: both;
        }

        .answer-btn:nth-child(1) { animation-delay: 0.1s; }
        .answer-btn:nth-child(2) { animation-delay: 0.2s; }
        .answer-btn:nth-child(3) { animation-delay: 0.3s; }
        .answer-btn:nth-child(4) { animation-delay: 0.4s; }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.05) 50%, transparent 70%);
            transform: translateX(-100%);
        }

        .answer-btn:hover::before {
            animation: shimmer 1s forwards;
        }

        .answer-btn:hover:not(:disabled) {
            background: rgba(108, 99, 255, 0.2);
            border-color: var(--primary-color);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.2);
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .answer-btn.correct {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.3), rgba(76, 175, 80, 0.1));
            border-color: #4CAF50;
            animation: pulse 0.5s;
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.3);
        }

        .answer-btn.wrong {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.3), rgba(244, 67, 54, 0.1));
            border-color: #F44336;
            animation: shake 0.5s;
            box-shadow: 0 0 30px rgba(244, 67, 54, 0.2);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .answer-letter {
            width: 50px;
            height: 50px;
            background: var(--gradient-6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-fast);
        }

        .answer-btn:hover .answer-letter {
            transform: scale(1.1) rotate(5deg);
        }

        .answer-text {
            flex: 1;
            font-weight: 600;
            line-height: 1.5;
        }

        /* ========== LIFELINES ========== */
        .lifelines-container {
            margin-bottom: var(--space-8);
        }

        .lifelines-title {
            text-align: center;
            font-size: 1.3rem;
            color: var(--accent-color);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
        }

        .lifelines-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
        }

        @media (max-width: 768px) {
            .lifelines-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .lifelines-grid {
                grid-template-columns: 1fr;
            }
        }

        .lifeline-btn {
            background: linear-gradient(135deg, var(--secondary-color), #ff4d6d);
            border: none;
            color: white;
            padding: var(--space-4);
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-2);
            font-family: 'Cairo', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            min-height: 100px;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(255, 101, 132, 0.3);
            position: relative;
            overflow: hidden;
        }

        .lifeline-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            transform: rotate(45deg);
            opacity: 0;
        }

        .lifeline-btn:hover:not(:disabled)::after {
            animation: lifeline-shine 1.5s forwards;
        }

        @keyframes lifeline-shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
        }

        .lifeline-btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 101, 132, 0.4);
        }

        .lifeline-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: linear-gradient(135deg, #666, #888);
            box-shadow: none;
        }

        .lifeline-btn i {
            font-size: 1.8rem;
            margin-bottom: var(--space-1);
        }

        .lifeline-text {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* ========== GAME CONTROLS ========== */
        .game-controls {
            display: flex;
            justify-content: center;
            gap: var(--space-4);
            flex-wrap: wrap;
        }

        .control-btn {
            padding: var(--space-4) var(--space-8);
            border-radius: var(--border-radius-full);
            font-family: 'Cairo', sans-serif;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            border: none;
            display: flex;
            align-items: center;
            gap: var(--space-3);
            min-width: 200px;
            justify-content: center;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.2) 50%, transparent 70%);
            transform: translateX(-100%);
            z-index: -1;
        }

        .control-btn:hover:not(:disabled)::before {
            animation: shine 1s forwards;
        }

        @keyframes shine {
            100% { transform: translateX(100%); }
        }

        .control-btn.primary {
            background: var(--gradient-6);
            color: white;
            box-shadow: var(--shadow-primary);
        }

        .control-btn.secondary {
            background: transparent;
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .control-btn:hover:not(:disabled) {
            transform: translateY(-5px);
        }

        .control-btn.primary:hover:not(:disabled) {
            box-shadow: 0 20px 40px rgba(108, 99, 255, 0.4);
        }

        .control-btn.secondary:hover:not(:disabled) {
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(255, 255, 255, 0.1);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* ========== NOTIFICATIONS ========== */
        .notifications-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
            max-width: 400px;
        }

        .notification {
            padding: var(--space-4) var(--space-6);
            border-radius: var(--border-radius-md);
            color: white;
            font-weight: 600;
            z-index: 1000;
            transform: translateX(120%);
            opacity: 0;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            max-width: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.5s ease forwards;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.success {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.9), rgba(46, 125, 50, 0.9));
            border-left: 5px solid rgba(255, 255, 255, 0.5);
        }

        .notification.error {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.9), rgba(198, 40, 40, 0.9));
            border-left: 5px solid rgba(255, 255, 255, 0.5);
        }

        .notification.info {
            background: linear-gradient(135deg, rgba(108, 99, 255, 0.9), rgba(54, 209, 220, 0.9));
            border-left: 5px solid rgba(255, 255, 255, 0.5);
        }

        .notification.warning {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.9), rgba(245, 124, 0, 0.9));
            border-left: 5px solid rgba(255, 255, 255, 0.5);
        }

        .notification i {
            font-size: 1.5rem;
        }

        /* ========== CELEBRATION SCREEN ========== */
        .celebration-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: fadeIn 0.5s ease;
        }

        .celebration-screen.show {
            display: flex;
        }

        .celebration-content {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(42, 42, 68, 0.95));
            padding: var(--space-10);
            border-radius: var(--border-radius-lg);
            text-align: center;
            max-width: 600px;
            width: 90%;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
            animation: bounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .celebration-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="g" cx="50%" cy="50%"><stop offset="0%" stop-color="%23FFD700" stop-opacity="0.1"/><stop offset="100%" stop-color="%23FFD700" stop-opacity="0"/></radialGradient></defs><circle cx="50" cy="50" r="50" fill="url(%23g)"/></svg>');
            background-size: 200% 200%;
            animation: confetti-fall 10s infinite linear;
            z-index: -1;
        }

        .celebration-title {
            font-size: 3rem;
            color: #FFD700;
            margin-bottom: var(--space-6);
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
            animation: glow 2s infinite alternate;
        }

        .celebration-message {
            font-size: 1.5rem;
            margin-bottom: var(--space-8);
            color: white;
            line-height: 1.6;
        }

        .celebration-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
            margin: var(--space-8) 0;
        }

        .celebration-stat {
            background: rgba(255, 255, 255, 0.1);
            padding: var(--space-4);
            border-radius: var(--border-radius-md);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .celebration-stat-value {
            font-size: 2rem;
            font-weight: 900;
            color: #FFD700;
            margin-bottom: var(--space-2);
        }

        .celebration-stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
        }

        /* ========== ACHIEVEMENT BADGE ========== */
        .achievement-badge {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #FFD700, var(--secondary-color));
            padding: var(--space-4) var(--space-8);
            border-radius: var(--border-radius-md);
            color: var(--dark-color);
            font-weight: 900;
            font-size: 1.5rem;
            z-index: 2500;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.3);
            animation: badge-pop 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes badge-pop {
            0% { transform: translate(-50%, -50%) scale(0); }
            70% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        /* ========== SOUND TOGGLE ========== */
        .sound-toggle {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-fast);
            backdrop-filter: blur(5px);
        }

        .sound-toggle:hover {
            transform: scale(1.1);
            background: rgba(108, 99, 255, 0.3);
            border-color: var(--primary-color);
        }

        .sound-toggle i {
            font-size: 1.8rem;
            color: white;
        }

        .sound-toggle.muted i.fa-volume-up {
            display: none;
        }

        .sound-toggle.muted i.fa-volume-mute {
            display: block;
        }

        .sound-toggle i.fa-volume-mute {
            display: none;
        }

        /* ========== SCORE ANIMATION ========== */
        .score-animation {
            position: fixed;
            font-size: 2rem;
            font-weight: 900;
            color: #FFD700;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            animation: score-float 2s ease-out forwards;
        }

        @keyframes score-float {
            0% { 
                transform: translateY(0) scale(0.5); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(-100px) scale(1.5); 
                opacity: 0; 
            }
        }

        /* ========== CONFETTI ========== */
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            opacity: 0;
            animation: confetti-fall 5s linear forwards;
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1200px) {
            .game-wrapper {
                padding: var(--space-6);
            }
            
            .game-title {
                font-size: 2.5rem;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .prize-amount-large {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 992px) {
            .player-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .game-title {
                font-size: 2rem;
            }
            
            .celebration-stats {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .game-container {
                padding: var(--space-4);
            }
            
            .game-wrapper {
                padding: var(--space-4);
            }
            
            .game-title {
                font-size: 1.8rem;
            }
            
            .game-subtitle {
                font-size: 1rem;
            }
            
            .question-text {
                font-size: 1.2rem;
                padding: var(--space-4);
            }
            
            .prize-amount-large {
                font-size: 2rem;
            }
            
            .control-btn {
                min-width: 150px;
                padding: var(--space-3) var(--space-6);
            }
            
            .sound-toggle {
                bottom: 20px;
                left: 20px;
                width: 50px;
                height: 50px;
            }
            
            .sound-toggle i {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .game-title {
                font-size: 1.5rem;
            }
            
            .player-stats {
                grid-template-columns: 1fr;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .question-text {
                font-size: 1.1rem;
                min-height: 120px;
            }
            
            .answer-btn {
                padding: var(--space-4);
                font-size: 1.1rem;
            }
            
            .answer-letter {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .lifelines-grid {
                grid-template-columns: 1fr;
            }
            
            .control-btn {
                width: 100%;
            }
            
            .game-controls {
                gap: var(--space-3);
            }
            
            .celebration-title {
                font-size: 2rem;
            }
            
            .celebration-message {
                font-size: 1.2rem;
            }
        }

        /* ========== CUSTOM SCROLLBAR ========== */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-6);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gradient-primary);
        }

        /* ========== ACCESSIBILITY ========== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* ========== PRINT STYLES ========== */
        @media print {
            .sound-toggle,
            .notifications-container,
            .celebration-screen,
            .achievement-badge {
                display: none !important;
            }
        }

        /* ========== UTILITY CLASSES ========== */
        .text-center {
            text-align: center;
        }

        .text-gradient {
            background: var(--gradient-6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .glass-effect {
            background: var(--glass-bg);
            backdrop-filter: var(--blur-amount);
            -webkit-backdrop-filter: var(--blur-amount);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .animate-slide-in-right {
            animation: slideInRight 0.5s ease forwards;
        }

        .animate-slide-in-left {
            animation: slideInLeft 0.5s ease forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-bounce {
            animation: bounce 2s infinite;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-glow {
            animation: glow 2s infinite alternate;
        }
    </style>
</head>
<body>
    <!-- ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ -->
    <div class="loading-screen" id="loading-screen">
        <div class="loader">
            <div class="loader-circle"></div>
            <div class="loader-circle"></div>
        </div>
        <div class="loading-text" id="loading-text">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÑÿπÿ®ÿ©...</div>
    </div>

    <!-- ÿßŸÑÿÆŸÑŸÅŸäÿ© ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ© -->
    <div class="background-animation" id="background-animation"></div>

    <!-- ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ -->
    <div class="notifications-container" id="notifications-container"></div>

    <!-- ÿ¥ÿßÿ±ÿ© ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ -->
    <div class="achievement-badge" id="achievement-badge"></div>

    <!-- ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿßÿ≠ÿ™ŸÅÿßŸÑ -->
    <div class="celebration-screen" id="celebration-screen">
        <div class="celebration-content">
            <h2 class="celebration-title">üéâ ŸÖÿ®ÿ±ŸàŸÉ! üéâ</h2>
            <p class="celebration-message">ŸÑŸÇÿØ ÿ£ŸÉŸÖŸÑÿ™ ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ© ÿ®ŸÜÿ¨ÿßÿ≠!</p>
            
            <div class="celebration-stats">
                <div class="celebration-stat">
                    <div class="celebration-stat-value" id="final-prize">0</div>
                    <div class="celebration-stat-label">ÿßŸÑÿ¨ÿßÿ¶ÿ≤ÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©</div>
                </div>
                <div class="celebration-stat">
                    <div class="celebration-stat-value" id="final-score">0</div>
                    <div class="celebration-stat-label">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÜŸÇÿßÿ∑</div>
                </div>
                <div class="celebration-stat">
                    <div class="celebration-stat-value" id="final-level">1</div>
                    <div class="celebration-stat-label">ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑŸÜŸáÿßÿ¶Ÿä</div>
                </div>
                <div class="celebration-stat">
                    <div class="celebration-stat-value" id="final-questions">0</div>
                    <div class="celebration-stat-label">ÿ£ÿ≥ÿ¶ŸÑÿ© ÿµÿ≠Ÿäÿ≠ÿ©</div>
                </div>
            </div>
            
            <div class="game-controls">
                <button class="control-btn primary" onclick="playAgain()">
                    <i class="fas fa-redo"></i> ŸÑÿπÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ
                </button>
                <button class="control-btn secondary" onclick="shareScore()">
                    <i class="fas fa-share-alt"></i> ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©
                </button>
            </div>
        </div>
    </div>

    <!-- ÿ≤ÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ÿßŸÑÿµŸàÿ™ -->
    <div class="sound-toggle" id="sound-toggle">
        <i class="fas fa-volume-up"></i>
        <i class="fas fa-volume-mute"></i>
    </div>

    <!-- ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ŸÑŸÑÿπÿ®ÿ© -->
    <div class="game-container">
        <div class="game-wrapper">
            <!-- ÿ±ÿ£ÿ≥ ÿßŸÑŸÑÿπÿ®ÿ© -->
            <header class="game-header">
                <div class="game-logo">
                    <i class="fas fa-trophy"></i>
                    <h1 class="game-title">ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ©</h1>
                </div>
                <p class="game-subtitle">ŸÖŸÜ ÿ≥Ÿäÿ±ÿ®ÿ≠ ÿßŸÑŸÖŸÑŸäŸàŸÜ ŸÅŸä ÿπÿßŸÑŸÖ ÿßŸÑÿ™ŸÇŸÜŸäÿ©</p>
                
                <!-- ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÑÿßÿπÿ® -->
                <div class="player-stats">
                    <div class="stat-item">
                        <div class="stat-label"><i class="fas fa-chart-line"></i> ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ</div>
                        <div class="stat-value" id="current-level">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label"><i class="fas fa-coins"></i> ÿßŸÑÿ¨ÿßÿ¶ÿ≤ÿ©</div>
                        <div class="stat-value money-value" id="current-money">1,000 ÿ±ŸäÿßŸÑ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label"><i class="fas fa-star"></i> ÿßŸÑŸÜŸÇÿßÿ∑</div>
                        <div class="stat-value" id="score-display">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label"><i class="fas fa-life-ring"></i> ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™</div>
                        <div class="stat-value" id="lifelines-count">3</div>
                    </div>
                </div>
                
                <!-- ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤ -->
                <div class="prize-ladder-container">
                    <h3 class="prize-ladder-title">
                        <i class="fas fa-trophy"></i> ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤
                    </h3>
                    <div class="prize-ladder" id="prize-ladder">
                        <!-- ÿ≥Ÿäÿ™ŸÖ ŸÖŸÑÿ§Ÿá ÿØŸäŸÜÿßŸÖŸäŸÉŸäÿßŸã -->
                    </div>
                </div>
                
                <!-- ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
            </header>

            <!-- ÿßŸÑŸÖÿ§ŸÇÿ™ -->
            <div class="timer-container">
                <div class="timer" id="timer">30</div>
            </div>

            <!-- ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸàÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ -->
            <main class="game-main">
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-question-circle"></i>
                            ÿßŸÑÿ≥ÿ§ÿßŸÑ <span id="question-number">1</span> ŸÖŸÜ 15
                        </div>
                        <div class="category-badge" id="category-badge">
                            <i class="fas fa-tag"></i> <span id="category-name">ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...</span>
                        </div>
                    </div>
                    
                    <div class="prize-display">
                        <div class="prize-amount-large" id="prize-amount">1,000 ÿ±ŸäÿßŸÑ</div>
                    </div>
                    
                    <div class="question-text" id="question-text">
                        ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≥ÿ§ÿßŸÑ... Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ™ÿ≠ÿØŸä ÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖÿ™ŸÜŸàÿπÿ© ŸÅŸä ŸÖÿ¨ÿßŸÑ ÿßŸÑÿ™ŸÇŸÜŸäÿ©!
                    </div>
                    
                    <div class="answers-grid" id="answers-grid">
                        <!-- ÿ≥ÿ™ÿ∂ÿßŸÅ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿØŸäŸÜÿßŸÖŸäŸÉŸäÿßŸã -->
                    </div>
                </div>

                <!-- ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™ -->
                <div class="lifelines-container">
                    <h3 class="lifelines-title">
                        <i class="fas fa-magic"></i> ŸÖÿ≥ÿßÿπÿØÿßÿ™ ÿßŸÑŸÑÿπÿ®ÿ©
                    </h3>
                    <div class="lifelines-grid">
                        <button class="lifeline-btn" id="fifty-fifty">
                            <i class="fas fa-adjust"></i>
                            <span class="lifeline-text">50:50</span>
                        </button>
                        <button class="lifeline-btn" id="ask-audience">
                            <i class="fas fa-users"></i>
                            <span class="lifeline-text">ÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ¨ŸÖŸáŸàÿ±</span>
                        </button>
                        <button class="lifeline-btn" id="phone-friend">
                            <i class="fas fa-phone"></i>
                            <span class="lifeline-text">ÿßÿ™ÿµÿßŸÑ ÿ®ÿµÿØŸäŸÇ</span>
                        </button>
                        <button class="lifeline-btn" id="hint">
                            <i class="fas fa-lightbulb"></i>
                            <span class="lifeline-text">ÿ™ŸÑŸÖŸäÿ≠</span>
                        </button>
                    </div>
                </div>

                <!-- ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ -->
                <div class="game-controls">
                    <button class="control-btn primary" id="start-game">
                        <i class="fas fa-play"></i> ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©
                    </button>
                    <button class="control-btn secondary" id="quit-game">
                        <i class="fas fa-sign-out-alt"></i> ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©
                    </button>
                    <button class="control-btn primary" id="next-question" style="display: none;">
                        <i class="fas fa-forward"></i> ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä
                    </button>
                </div>
            </main>
        </div>
    </div>

    <script>
        // ========== ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÑÿπÿ®ÿ© ==========
        const CONFIG = {
            totalQuestions: 15,
            timePerQuestion: 30,
            initialLifelines: 3,
            basePoints: 100,
            apiEndpoint: 'https://opentdb.com/api.php',
            apiCategory: 18, // ÿπŸÑŸàŸÖ ÿßŸÑŸÉŸÖÿ®ŸäŸàÿ™ÿ±
            soundEnabled: true,
            maxOnlineQuestions: 50
        };

        // ========== ÿ¨Ÿàÿßÿ¶ÿ≤ ÿßŸÑŸÖÿ≥ÿ™ŸàŸäÿßÿ™ ==========
        const PRIZES = [
            "1,000 ÿ±ŸäÿßŸÑ", "2,000 ÿ±ŸäÿßŸÑ", "5,000 ÿ±ŸäÿßŸÑ", "10,000 ÿ±ŸäÿßŸÑ", "20,000 ÿ±ŸäÿßŸÑ",
            "50,000 ÿ±ŸäÿßŸÑ", "100,000 ÿ±ŸäÿßŸÑ", "250,000 ÿ±ŸäÿßŸÑ", "500,000 ÿ±ŸäÿßŸÑ", "1,000,000 ÿ±ŸäÿßŸÑ",
            "2,000,000 ÿ±ŸäÿßŸÑ", "3,000,000 ÿ±ŸäÿßŸÑ", "5,000,000 ÿ±ŸäÿßŸÑ", "7,500,000 ÿ±ŸäÿßŸÑ", "10,000,000 ÿ±ŸäÿßŸÑ"
        ];

        const LEVEL_POINTS = [100, 200, 300, 400, 500, 750, 1000, 1500, 2000, 3000, 4000, 5000, 7500, 10000, 15000];

        // ========== ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ==========
        const localQuestions = {
            "ÿ®ÿ±ŸÖÿ¨ÿ©": [
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑÿ™Ÿä ÿ∑Ÿàÿ±ÿ™Ÿáÿß ÿ¥ÿ±ŸÉÿ© ŸÖÿßŸäŸÉÿ±Ÿàÿ≥ŸàŸÅÿ™ Ÿàÿ™ÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ .NETÿü",
                    answers: ["Java", "C#", "Python", "PHP"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ÿ£Ÿä ŸÖŸÜ Ÿáÿ∞Ÿá ŸÑŸäÿ≥ÿ™ ŸÑÿ∫ÿ© ÿ®ÿ±ŸÖÿ¨ÿ©ÿü",
                    answers: ["HTML", "Python", "Java", "C++"],
                    correct: 0,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÑÿ™ÿ∑ŸàŸäÿ± ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ iOSÿü",
                    answers: ["Java", "Kotlin", "Swift", "Objective-C"],
                    correct: 2,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑÿ™Ÿä ÿ™ÿπŸÖŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÅŸÇÿ∑ÿü",
                    answers: ["JavaScript", "Python", "Java", "C#"],
                    correct: 0,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑÿ£ŸÉÿ´ÿ± ÿßÿ≥ÿ™ÿÆÿØÿßŸÖÿßŸã ŸÅŸä ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸäÿü",
                    answers: ["Java", "Python", "C++", "Ruby"],
                    correct: 1,
                    difficulty: "hard"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÖŸÉÿ™ÿ®ÿ© JavaScript ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥Ÿáÿ±ÿ© ŸÑÿ®ŸÜÿßÿ° Ÿàÿßÿ¨Ÿáÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿü",
                    answers: ["jQuery", "React", "Vue", "Angular"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÅŸä ÿ™ÿ∑ŸàŸäÿ± ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ Androidÿü",
                    answers: ["Swift", "Kotlin", "C#", "JavaScript"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä ÿ™ÿπŸÑŸÖ ÿßŸÑÿ¢ŸÑÿ© ŸàÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ÿü",
                    answers: ["R", "PHP", "Go", "Rust"],
                    correct: 0,
                    difficulty: "hard"
                }
            ],
            "ŸÇŸàÿßÿπÿØ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™": [
                {
                    question: "ÿ£Ÿä ŸÖŸÜ Ÿáÿ∞Ÿá ÿ£ŸÜÿ∏ŸÖÿ© ÿ•ÿØÿßÿ±ÿ© ŸÇŸàÿßÿπÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿπŸÑÿßÿ¶ŸÇŸäÿ©ÿü",
                    answers: ["MongoDB", "MySQL", "Redis", "Cassandra"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÅŸä ŸÇŸàÿßÿπÿØ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÑÿßÿ¶ŸÇŸäÿ©ÿü",
                    answers: ["SQL", "NoSQL", "JSON", "XML"],
                    correct: 0,
                    difficulty: "easy"
                },
                {
                    question: "ÿ£Ÿä ŸÖŸÜ Ÿáÿ∞Ÿá ŸÇŸàÿßÿπÿØ ÿ®ŸäÿßŸÜÿßÿ™ NoSQLÿü",
                    answers: ["MySQL", "PostgreSQL", "MongoDB", "Oracle"],
                    correct: 2,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ŸÜÿ∏ÿßŸÖ ŸÇŸàÿßÿπÿØ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠ ÿßŸÑŸÖÿµÿØÿ± ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥Ÿáÿ±ÿ©ÿü",
                    answers: ["Oracle", "MySQL", "SQL Server", "DB2"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÅŸä ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ ÿßŸÑŸàŸäÿ® ÿßŸÑŸÉÿ®Ÿäÿ±ÿ©ÿü",
                    answers: ["SQLite", "MySQL", "PostgreSQL", "MongoDB"],
                    correct: 3,
                    difficulty: "hard"
                }
            ],
            "ÿßŸÑÿ¥ÿ®ŸÉÿßÿ™": [
                {
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ŸÜŸÇŸÑ ÿßŸÑŸÜÿµ ÿßŸÑÿ™ÿ¥ÿπÿ®Ÿäÿü",
                    answers: ["FTP", "HTTP", "SMTP", "TCP"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸà ÿπŸÜŸàÿßŸÜ IP ÿßŸÑŸÖÿ≠ÿ¨Ÿàÿ≤ ŸÑŸÑÿ±ÿ¨Ÿàÿπ ÿßŸÑŸÖÿ≠ŸÑŸä (localhost)ÿü",
                    answers: ["192.168.1.1", "127.0.0.1", "10.0.0.1", "172.16.0.1"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÖŸÜŸÅÿ∞ HTTP ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿü",
                    answers: ["21", "80", "443", "25"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ŸÜŸÇŸÑ ÿßŸÑŸÖŸÑŸÅÿßÿ™ÿü",
                    answers: ["HTTP", "FTP", "SMTP", "SSH"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ÿßŸÑÿ™ÿ¥ŸÅŸäÿ± ÿßŸÑÿ¢ŸÖŸÜ ŸÑŸÑŸàŸäÿ®ÿü",
                    answers: ["HTTP", "FTP", "HTTPS", "SMTP"],
                    correct: 2,
                    difficulty: "hard"
                }
            ],
            "ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä": [
                {
                    question: "ŸÖÿß ŸáŸä ŸÖŸÉÿ™ÿ®ÿ© Python ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥Ÿáÿ±ÿ© ŸÑŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸäÿü",
                    answers: ["NumPy", "Pandas", "TensorFlow", "Scikit-learn"],
                    correct: 2,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿ™ŸÇŸÜŸäÿ© ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ÿßŸÑÿÆÿßÿµÿ© ÿ®ÿßŸÑÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿü",
                    answers: ["NLP", "Computer Vision", "Reinforcement Learning", "Robotics"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ£ŸÉÿ´ÿ± ÿßÿ≥ÿ™ÿÆÿØÿßŸÖÿßŸã ŸÅŸä ÿ™ÿπŸÑŸÖ ÿßŸÑÿ¢ŸÑÿ©ÿü",
                    answers: ["Java", "Python", "C++", "JavaScript"],
                    correct: 1,
                    difficulty: "hard"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿÆŸàÿßÿ±ÿ≤ŸÖŸäÿ© ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ¢ŸÑŸä ŸÑŸÑÿ™ÿµŸÜŸäŸÅÿü",
                    answers: ["K-Means", "SVM", "Apriori", "DBSCAN"],
                    correct: 1,
                    difficulty: "hard"
                }
            ],
            "ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ": [
                {
                    question: "ŸÖÿß ŸáŸà ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ŸÖŸÅÿ™Ÿàÿ≠ ÿßŸÑŸÖÿµÿØÿ±ÿü",
                    answers: ["Windows", "macOS", "Linux", "iOS"],
                    correct: 2,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸà ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ∞Ÿä ÿ∑Ÿàÿ±ÿ™Ÿá ÿ¥ÿ±ŸÉÿ© Appleÿü",
                    answers: ["Windows", "macOS", "Linux", "Android"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸà ŸÜŸàÿßÿ© ŸÜÿ∏ÿßŸÖ Linuxÿü",
                    answers: ["Kernel", "Shell", "GUI", "Bootloader"],
                    correct: 0,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ŸÑŸÑŸáŸàÿßÿ™ŸÅ ÿßŸÑÿ∞ŸÉŸäÿ© ŸÖŸÜ Googleÿü",
                    answers: ["iOS", "Windows Phone", "Android", "BlackBerry OS"],
                    correct: 2,
                    difficulty: "easy"
                }
            ],
            "ÿßŸÑÿ£ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿ®ÿ±ÿßŸÜŸä": [
                {
                    question: "ŸÖÿß ŸáŸà Ÿáÿ¨ŸàŸÖ ÿ≠ŸÇŸÜ SQLÿü",
                    answers: ["Ÿáÿ¨ŸàŸÖ ÿπŸÑŸâ ÿßŸÑÿÆÿßÿØŸÖ", "Ÿáÿ¨ŸàŸÖ ÿπŸÑŸâ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™", "Ÿáÿ¨ŸàŸÖ ÿπŸÑŸâ ÿßŸÑÿ¥ÿ®ŸÉÿ©", "Ÿáÿ¨ŸàŸÖ ÿπŸÑŸâ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ÿßŸÑÿ™ÿ¥ŸÅŸäÿ± ÿßŸÑÿ¢ŸÖŸÜÿü",
                    answers: ["HTTP", "FTP", "HTTPS", "SMTP"],
                    correct: 2,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿ£ÿØÿßÿ© ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿßÿÆÿ™ÿ±ÿßŸÇ ÿßŸÑÿ¥ŸáŸäÿ±ÿ©ÿü",
                    answers: ["Wireshark", "Nmap", "Kali Linux", "Metasploit"],
                    correct: 2,
                    difficulty: "hard"
                },
                {
                    question: "ŸÖÿß ŸáŸà ŸÜŸàÿπ ÿßŸÑŸáÿ¨ŸàŸÖ ÿßŸÑÿ∞Ÿä Ÿäÿ∫ÿ±ŸÇ ÿßŸÑÿÆÿßÿØŸÖ ÿ®ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ÿü",
                    answers: ["Phishing", "DDoS", "Malware", "SQL Injection"],
                    correct: 1,
                    difficulty: "medium"
                }
            ],
            "ÿ™ÿ∑ŸàŸäÿ± ÿßŸÑŸàŸäÿ®": [
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿ™ÿ±ŸÖŸäÿ≤ ÿßŸÑÿµŸÅÿ≠ÿßÿ™ ÿπŸÑŸâ ÿßŸÑŸàŸäÿ®ÿü",
                    answers: ["CSS", "JavaScript", "HTML", "PHP"],
                    correct: 2,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿ™ÿµŸÖŸäŸÖ Ÿàÿ™ŸÜÿ≥ŸäŸÇ ÿµŸÅÿ≠ÿßÿ™ ÿßŸÑŸàŸäÿ®ÿü",
                    answers: ["HTML", "CSS", "JavaScript", "Python"],
                    correct: 1,
                    difficulty: "easy"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿ•ÿ∑ÿßÿ± ÿπŸÖŸÑ JavaScript ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥Ÿáÿ±ÿ©ÿü",
                    answers: ["Django", "Laravel", "React", "Spring"],
                    correct: 2,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ŸÜŸÇŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ ÿßŸÑŸàŸäÿ® ÿßŸÑÿ≠ÿØŸäÿ´ÿ©ÿü",
                    answers: ["SOAP", "REST", "FTP", "SMTP"],
                    correct: 1,
                    difficulty: "medium"
                },
                {
                    question: "ŸÖÿß ŸáŸä ÿ£ÿØÿßÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ÿßŸÑÿ•ÿµÿØÿßÿ±ÿßÿ™ ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥Ÿáÿ±ÿ©ÿü",
                    answers: ["SVN", "Git", "Mercurial", "CVS"],
                    correct: 1,
                    difficulty: "hard"
                }
            ]
        };

        // ========== ÿ≠ÿßŸÑÿ© ÿßŸÑŸÑÿπÿ®ÿ© ==========
        let gameState = {
            currentLevel: 1,
            currentQuestionIndex: 0,
            score: 0,
            money: 0,
            lifelines: CONFIG.initialLifelines,
            usedLifelines: new Set(),
            gameActive: false,
            timer: CONFIG.timePerQuestion,
            timerInterval: null,
            usedQuestionIds: new Set(),
            questions: [],
            currentQuestion: null,
            correctAnswers: 0,
            soundEnabled: CONFIG.soundEnabled,
            sessionId: generateSessionId(),
            loadedQuestionsCount: 0,
            isOnline: true
        };

        // ========== ÿπŸÜÿßÿµÿ± DOM ==========
        const elements = {
            // ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
            loadingScreen: document.getElementById('loading-screen'),
            loadingText: document.getElementById('loading-text'),
            
            // ÿßŸÑÿÆŸÑŸÅŸäÿ© ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ©
            backgroundAnimation: document.getElementById('background-animation'),
            
            // ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™
            currentLevel: document.getElementById('current-level'),
            currentMoney: document.getElementById('current-money'),
            scoreDisplay: document.getElementById('score-display'),
            lifelinesCount: document.getElementById('lifelines-count'),
            
            // ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤
            prizeLadder: document.getElementById('prize-ladder'),
            
            // ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ
            progressFill: document.getElementById('progress-fill'),
            
            // ÿßŸÑŸÖÿ§ŸÇÿ™
            timer: document.getElementById('timer'),
            
            // ÿßŸÑÿ≥ÿ§ÿßŸÑ
            questionNumber: document.getElementById('question-number'),
            categoryName: document.getElementById('category-name'),
            prizeAmount: document.getElementById('prize-amount'),
            questionText: document.getElementById('question-text'),
            answersGrid: document.getElementById('answers-grid'),
            
            // ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            fiftyFiftyBtn: document.getElementById('fifty-fifty'),
            askAudienceBtn: document.getElementById('ask-audience'),
            phoneFriendBtn: document.getElementById('phone-friend'),
            hintBtn: document.getElementById('hint'),
            
            // ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ
            startBtn: document.getElementById('start-game'),
            quitBtn: document.getElementById('quit-game'),
            nextBtn: document.getElementById('next-question'),
            
            // ÿßŸÑÿµŸàÿ™
            soundToggle: document.getElementById('sound-toggle'),
            
            // ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿßÿ≠ÿ™ŸÅÿßŸÑ
            celebrationScreen: document.getElementById('celebration-screen'),
            finalPrize: document.getElementById('final-prize'),
            finalScore: document.getElementById('final-score'),
            finalLevel: document.getElementById('final-level'),
            finalQuestions: document.getElementById('final-questions'),
            
            // ÿ¥ÿßÿ±ÿ© ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤
            achievementBadge: document.getElementById('achievement-badge')
        };

        // ========== ŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑÿ£ÿµŸàÿßÿ™ ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ© ==========
        const soundUrls = {
            correct: 'https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3',
            wrong: 'https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3',
            click: 'https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3',
            timer: 'https://assets.mixkit.co/sfx/preview/mixkit-fast-clock-ticking-1067.mp3',
            lifeline: 'https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3',
            win: 'https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3',
            lose: 'https://assets.mixkit.co/sfx/preview/mixkit-sad-game-over-trombone-471.mp3',
            applause: 'https://assets.mixkit.co/sfx/preview/mixkit-audience-applause-strong-476.mp3',
            achievement: 'https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3',
            hover: 'https://assets.mixkit.co/sfx/preview/mixkit-plastic-bubble-click-1124.mp3'
        };

        // ŸÉÿßÿ¶ŸÜ ÿßŸÑÿ£ÿµŸàÿßÿ™
        let sounds = {};

        // ========== ÿßŸÑÿØŸàÿßŸÑ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ==========

        // ÿ•ŸÜÿ¥ÿßÿ° ÿπŸÜÿßÿµÿ± ÿµŸàÿ™Ÿäÿ© ŸÖÿπ ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ£ÿÆÿ∑ÿßÿ°
        function createSoundElements() {
            Object.keys(soundUrls).forEach(key => {
                const audio = new Audio();
                audio.volume = 0.4;
                audio.preload = 'auto';
                
                // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ŸÖÿπ ŸÑŸÑÿ£ÿÆÿ∑ÿßÿ°
                audio.addEventListener('error', (e) => {
                    console.warn(`ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ™ ${key}:`, e.message);
                    // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ£ÿµŸàÿßÿ™ ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£
                    createFallbackSound(key);
                });
                
                audio.src = soundUrls[key];
                sounds[key] = audio;
            });
        }

        // ÿ•ŸÜÿ¥ÿßÿ° ÿ£ÿµŸàÿßÿ™ ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÅŸä ÿ≠ÿßŸÑÿ© ŸÅÿ¥ŸÑ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
        function createFallbackSound(key) {
            const audio = new Audio();
            audio.volume = 0.4;
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿµŸàÿ™ ÿ®ÿ≥Ÿäÿ∑ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Web Audio API
            try {
                const context = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = context.createOscillator();
                const gainNode = context.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(context.destination);
                
                // ÿ•ÿπÿØÿßÿØÿßÿ™ ŸÖÿÆÿ™ŸÑŸÅÿ© ŸÑŸÉŸÑ ŸÜŸàÿπ ÿµŸàÿ™
                switch(key) {
                    case 'correct':
                        oscillator.frequency.value = 800;
                        break;
                    case 'wrong':
                        oscillator.frequency.value = 300;
                        break;
                    case 'click':
                        oscillator.frequency.value = 600;
                        break;
                    case 'timer':
                        oscillator.frequency.value = 1000;
                        break;
                    default:
                        oscillator.frequency.value = 500;
                }
                
                gainNode.gain.value = 0.1;
                oscillator.start();
                oscillator.stop(context.currentTime + 0.1);
                
                // ÿ≠ŸÅÿ∏ ÿßŸÑŸÖÿ±ÿ¨ÿπ
                audio._oscillator = oscillator;
                audio._context = context;
                audio._gainNode = gainNode;
                
            } catch (error) {
                console.warn('ŸÑÿß ŸäŸÖŸÉŸÜ ÿ•ŸÜÿ¥ÿßÿ° ÿ£ÿµŸàÿßÿ™ ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©:', error);
            }
            
            sounds[key] = audio;
        }

        // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿµŸàÿ™ ŸÖÿπ ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ£ÿÆÿ∑ÿßÿ°
        function playSound(soundName) {
            if (!gameState.soundEnabled) return;
            
            const sound = sounds[soundName];
            if (!sound) {
                console.warn(`ÿßŸÑÿµŸàÿ™ ${soundName} ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ`);
                return;
            }
            
            try {
                sound.currentTime = 0;
                const playPromise = sound.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        // ÿ™ÿ¨ÿßŸáŸÑ ÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ¥ÿßÿ¶ÿπÿ©
                        if (error.name !== 'NotAllowedError' && error.name !== 'AbortError') {
                            console.warn(`ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿµŸàÿ™ ${soundName}:`, error.message);
                        }
                    });
                }
            } catch (error) {
                console.warn(`ÿÆÿ∑ÿ£ ŸÅŸä ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿµŸàÿ™ ${soundName}:`, error.message);
            }
        }

        // ÿ™ŸàŸÑŸäÿØ ŸÖÿπÿ±ŸÅ ÿ¨ŸÑÿ≥ÿ© ŸÅÿ±ŸäÿØ
        function generateSessionId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // ŸÅŸÉ ÿ™ÿ¥ŸÅŸäÿ± HTML
        function decodeHTML(html) {
            if (!html) return '';
            
            const txt = document.createElement("textarea");
            txt.innerHTML = html;
            
            let decoded = txt.value
                .replace(/&amp;/g, '&')
                .replace(/&lt;/g, '<')
                .replace(/&gt;/g, '>')
                .replace(/&quot;/g, '"')
                .replace(/&#039;/g, "'")
                .replace(/&#39;/g, "'");
            
            // ÿ•ÿ≤ÿßŸÑÿ© ÿ£Ÿä ÿπŸÑÿßŸÖÿßÿ™ HTML ŸÖÿ™ÿ®ŸÇŸäÿ©
            decoded = decoded.replace(/<[^>]*>/g, '');
            
            return decoded.trim();
        }

        // ÿÆŸÑÿ∑ ÿßŸÑŸÖÿµŸÅŸàŸÅÿ©
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // ÿ™ŸàŸÑŸäÿØ ŸÖÿπÿ±ŸÅ ŸÅÿ±ŸäÿØ
        function generateUniqueId(prefix = '') {
            return `${prefix}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
        }

        // ========== ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ==========

        // ÿ¨ŸÑÿ® ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™
        async function fetchOnlineQuestions() {
            const allQuestions = [];
            const difficulties = ['easy', 'medium', 'hard'];
            
            try {
                for (const difficulty of difficulties) {
                    try {
                        // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ÿÆŸäÿ± ŸÑÿ™ÿ¨ŸÜÿ® rate limiting
                        await new Promise(resolve => setTimeout(resolve, 500));
                        
                        const url = `${CONFIG.apiEndpoint}?amount=5&category=${CONFIG.apiCategory}&difficulty=${difficulty}&type=multiple`;
                        
                        const response = await fetch(url, {
                            headers: {
                                'Accept': 'application/json',
                                'User-Agent': 'TechChallengeGame/1.0'
                            }
                        });
                        
                        if (!response.ok) {
                            console.warn(`ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© (${difficulty}): ${response.status}`);
                            continue;
                        }
                        
                        const data = await response.json();
                        
                        if (data.response_code === 0 && data.results && data.results.length > 0) {
                            const formattedQuestions = data.results.map((item, index) => ({
                                id: `online-${difficulty}-${index}-${Date.now()}`,
                                question: decodeHTML(item.question),
                                answers: shuffleArray([
                                    ...item.incorrect_answers.map(decodeHTML), 
                                    decodeHTML(item.correct_answer)
                                ]),
                                correct: [...item.incorrect_answers, item.correct_answer]
                                    .sort(() => Math.random() - 0.5)
                                    .indexOf(item.correct_answer),
                                difficulty: difficulty,
                                category: "ÿπŸÑŸàŸÖ ÿßŸÑŸÉŸÖÿ®ŸäŸàÿ™ÿ±",
                                source: "online"
                            }));
                            
                            allQuestions.push(...formattedQuestions);
                            console.log(`ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${formattedQuestions.length} ÿ≥ÿ§ÿßŸÑÿßŸã ŸÖŸÜ ŸÖÿ≥ÿ™ŸàŸâ ${difficulty}`);
                        }
                        
                    } catch (error) {
                        console.warn(`ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖÿ≥ÿ™ŸàŸâ ${difficulty}:`, error.message);
                        continue;
                    }
                }
                
                return allQuestions;
                
            } catch (error) {
                console.error('ÿÆÿ∑ÿ£ ÿπÿßŸÖ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™:', error);
                return [];
            }
        }

        // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©
        function getLocalQuestions() {
            const allLocalQuestions = [];
            let questionIndex = 0;
            
            Object.keys(localQuestions).forEach(category => {
                localQuestions[category].forEach(q => {
                    const questionId = `local-${category}-${questionIndex++}`;
                    
                    allLocalQuestions.push({
                        id: questionId,
                        question: q.question,
                        answers: [...q.answers],
                        correct: q.correct,
                        difficulty: q.difficulty,
                        category: category,
                        source: "local"
                    });
                });
            });
            
            return shuffleArray(allLocalQuestions);
        }

        // ÿ•ÿ∂ÿßŸÅÿ© ÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©
        function addFallbackQuestions() {
            const fallbackQuestions = [
                {
                    id: generateUniqueId('fallback'),
                    question: "ŸÖÿß ŸáŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ™ÿ∑ŸàŸäÿ± ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ ÿßŸÑŸàŸäÿ®ÿü",
                    answers: ["Java", "Python", "JavaScript", "C++"],
                    correct: 2,
                    difficulty: "easy",
                    category: "ÿ®ÿ±ŸÖÿ¨ÿ©",
                    source: "fallback"
                },
                {
                    id: generateUniqueId('fallback'),
                    question: "ŸÖÿß ŸáŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÑÿßÿ¶ŸÇŸäÿ© ŸÖŸÅÿ™Ÿàÿ≠ÿ© ÿßŸÑŸÖÿµÿØÿ± ÿßŸÑÿ£ÿ¥Ÿáÿ±ÿü",
                    answers: ["Oracle", "MySQL", "SQL Server", "DB2"],
                    correct: 1,
                    difficulty: "easy",
                    category: "ŸÇŸàÿßÿπÿØ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™",
                    source: "fallback"
                },
                {
                    id: generateUniqueId('fallback'),
                    question: "ŸÖÿß ŸáŸà ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™ ÿßŸÑÿ∞Ÿä Ÿäÿ≠ÿØÿØ ÿπŸÜŸàÿßŸÜ ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ©ÿü",
                    answers: ["HTTP", "FTP", "IP", "TCP"],
                    correct: 2,
                    difficulty: "medium",
                    category: "ÿ¥ÿ®ŸÉÿßÿ™",
                    source: "fallback"
                },
                {
                    id: generateUniqueId('fallback'),
                    question: "ŸÖÿß ŸáŸä ŸÖŸÉÿ™ÿ®ÿ© Python ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÑŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸäÿü",
                    answers: ["Django", "TensorFlow", "Flask", "NumPy"],
                    correct: 1,
                    difficulty: "medium",
                    category: "ÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä",
                    source: "fallback"
                },
                {
                    id: generateUniqueId('fallback'),
                    question: "ŸÖÿß ŸáŸà ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ŸÖŸÅÿ™Ÿàÿ≠ ÿßŸÑŸÖÿµÿØÿ±ÿü",
                    answers: ["Windows", "macOS", "Linux", "iOS"],
                    correct: 2,
                    difficulty: "easy",
                    category: "ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ",
                    source: "fallback"
                }
            ];
            
            gameState.questions.push(...fallbackQuestions);
            gameState.loadedQuestionsCount += fallbackQuestions.length;
            console.log(`ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ${fallbackQuestions.length} ÿ≥ÿ§ÿßŸÑÿßŸã ÿßŸÅÿ™ÿ±ÿßÿ∂ŸäÿßŸã`);
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©
        async function loadQuestions() {
            updateLoadingText("ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©...");
            
            try {
                // ÿ¨ŸÑÿ® ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™
                console.log('ÿ®ÿØÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™...');
                const onlineQuestions = await fetchOnlineQuestions();
                
                if (onlineQuestions.length > 0) {
                    gameState.questions.push(...onlineQuestions);
                    gameState.loadedQuestionsCount += onlineQuestions.length;
                    console.log(`ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${onlineQuestions.length} ÿ≥ÿ§ÿßŸÑÿßŸã ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™`);
                    gameState.isOnline = true;
                } else {
                    console.log('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™');
                    gameState.isOnline = false;
                }
                
                // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©
                const localQuestionsArray = getLocalQuestions();
                const targetQuestions = CONFIG.totalQuestions * 3;
                
                if (gameState.loadedQuestionsCount < targetQuestions) {
                    const neededQuestions = targetQuestions - gameState.loadedQuestionsCount;
                    const questionsToAdd = localQuestionsArray.slice(0, neededQuestions);
                    
                    gameState.questions.push(...questionsToAdd);
                    gameState.loadedQuestionsCount += questionsToAdd.length;
                    console.log(`ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ${questionsToAdd.length} ÿ≥ÿ§ÿßŸÑÿßŸã ŸÖÿ≠ŸÑŸäÿßŸã`);
                }
                
                // ÿÆŸÑÿ∑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©
                shuffleArray(gameState.questions);
                
                console.log(`ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©: ${gameState.questions.length}`);
                
                if (gameState.questions.length < CONFIG.totalQuestions) {
                    console.warn(`ÿπÿØÿØ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ÿ£ŸÇŸÑ ŸÖŸÜ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®`);
                    addFallbackQuestions();
                }
                
            } catch (error) {
                console.error('ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©:', error);
                // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÅŸÇÿ∑
                const localQuestionsArray = getLocalQuestions();
                gameState.questions = localQuestionsArray;
                gameState.loadedQuestionsCount = localQuestionsArray.length;
                gameState.isOnline = false;
                
                if (gameState.questions.length < CONFIG.totalQuestions) {
                    addFallbackQuestions();
                }
            }
        }

        // ========== Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ==========

        // ÿ™ÿ≠ÿØŸäÿ´ ŸÜÿµ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
        function updateLoadingText(text) {
            if (elements.loadingText) {
                elements.loadingText.textContent = text;
            }
        }

        // ÿ•ŸÜÿ¥ÿßÿ° ÿÆŸÑŸÅŸäÿ© ŸÖÿ™ÿ≠ÿ±ŸÉÿ©
        function createBackgroundAnimation() {
            const particlesContainer = document.createElement('div');
            particlesContainer.className = 'particles';
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿ¨ÿ≤Ÿäÿ¶ÿßÿ™
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 100 + 50;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.opacity = Math.random() * 0.1 + 0.05;
                particle.style.animationDuration = `${Math.random() * 30 + 20}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
            
            const gradientOverlay = document.createElement('div');
            gradientOverlay.className = 'gradient-overlay';
            
            elements.backgroundAnimation.appendChild(particlesContainer);
            elements.backgroundAnimation.appendChild(gradientOverlay);
        }

        // ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤
        function createPrizeLadder() {
            elements.prizeLadder.innerHTML = '';
            
            PRIZES.forEach((prize, index) => {
                const prizeItem = document.createElement('div');
                prizeItem.className = 'prize-item';
                prizeItem.id = `prize-${index + 1}`;
                
                if (index + 1 === gameState.currentLevel) {
                    prizeItem.classList.add('current');
                }
                
                const levelIcon = index < 5 ? 'fas fa-star' : 
                                 index < 10 ? 'fas fa-gem' : 
                                 'fas fa-crown';
                
                prizeItem.innerHTML = `
                    <div class="prize-level">
                        <i class="${levelIcon}"></i> ${index + 1}
                    </div>
                    <div class="prize-amount">${prize}</div>
                `;
                
                elements.prizeLadder.appendChild(prizeItem);
            });
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤
        function updatePrizeLadder() {
            const prizeItems = elements.prizeLadder.querySelectorAll('.prize-item');
            prizeItems.forEach((item, index) => {
                item.classList.remove('current', 'reached');
                
                if (index + 1 === gameState.currentLevel) {
                    item.classList.add('current');
                } else if (index + 1 < gameState.currentLevel) {
                    item.classList.add('reached');
                }
            });
            
            // ÿßŸÑÿ™ŸÖÿ±Ÿäÿ± ÿ•ŸÑŸâ ÿßŸÑÿπŸÜÿµÿ± ÿßŸÑÿ≠ÿßŸÑŸä
            setTimeout(() => {
                const currentPrize = document.getElementById(`prize-${gameState.currentLevel}`);
                if (currentPrize) {
                    currentPrize.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 100);
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπÿ±ÿ∂
        function updateDisplay() {
            elements.currentLevel.textContent = gameState.currentLevel;
            elements.currentMoney.textContent = PRIZES[Math.min(gameState.currentQuestionIndex, PRIZES.length - 1)];
            elements.scoreDisplay.textContent = gameState.score.toLocaleString();
            elements.lifelinesCount.textContent = gameState.lifelines;
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ
        function updateProgressBar() {
            const progress = (gameState.currentQuestionIndex / CONFIG.totalQuestions) * 100;
            elements.progressFill.style.width = `${progress}%`;
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let icon = '';
            switch(type) {
                case 'success':
                    icon = '<i class="fas fa-check-circle"></i>';
                    break;
                case 'error':
                    icon = '<i class="fas fa-exclamation-circle"></i>';
                    break;
                case 'warning':
                    icon = '<i class="fas fa-exclamation-triangle"></i>';
                    break;
                default:
                    icon = '<i class="fas fa-info-circle"></i>';
            }
            
            notification.innerHTML = `
                ${icon}
                <span>${message}</span>
            `;
            
            document.getElementById('notifications-container').appendChild(notification);
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 500);
            }, duration);
        }

        // ========== ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ==========

        // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ≥ÿ§ÿßŸÑ ŸÅÿ±ŸäÿØ
        function getUniqueQuestion() {
            if (gameState.questions.length === 0) return null;
            
            let attempts = 0;
            let question = null;
            
            while (attempts < 50 && gameState.questions.length > 0) {
                const randomIndex = Math.floor(Math.random() * gameState.questions.length);
                const candidate = gameState.questions[randomIndex];
                
                if (!gameState.usedQuestionIds.has(candidate.id)) {
                    question = candidate;
                    gameState.usedQuestionIds.add(candidate.id);
                    break;
                }
                
                attempts++;
            }
            
            // ÿ•ÿ∞ÿß ŸÑŸÖ ŸÜÿ¨ÿØ ÿ≥ÿ§ÿßŸÑÿßŸã ŸÅÿ±ŸäÿØÿßŸãÿå ŸÜÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿä ÿ≥ÿ§ÿßŸÑ
            if (!question && gameState.questions.length > 0) {
                question = gameState.questions[0];
                gameState.usedQuestionIds.add(question.id);
            }
            
            return question;
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≥ÿ§ÿßŸÑ
        function loadQuestion(index) {
            if (index >= CONFIG.totalQuestions || index >= gameState.questions.length) {
                endGame(true);
                return;
            }
            
            clearInterval(gameState.timerInterval);
            gameState.currentQuestion = getUniqueQuestion();
            
            if (!gameState.currentQuestion) {
                showNotification("ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖÿ™ÿßÿ≠ÿ© ÿ¨ÿØŸäÿØÿ©", "error");
                endGame(false);
                return;
            }
            
            gameState.currentLevel = index + 1;
            gameState.timer = CONFIG.timePerQuestion;
            elements.timer.textContent = gameState.timer;
            elements.timer.className = 'timer';
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπÿ±ÿ∂
            elements.questionText.textContent = gameState.currentQuestion.question;
            elements.questionNumber.textContent = gameState.currentLevel;
            elements.prizeAmount.textContent = PRIZES[Math.min(index, PRIZES.length - 1)];
            elements.currentLevel.textContent = gameState.currentLevel;
            elements.currentMoney.textContent = PRIZES[Math.min(index, PRIZES.length - 1)];
            elements.categoryName.textContent = gameState.currentQuestion.category;
            
            // ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™
            displayAnswers();
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ≥ŸÑŸÖ ŸàÿßŸÑÿ™ŸÇÿØŸÖ
            updatePrizeLadder();
            updateProgressBar();
            
            // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ÿ´Ÿäÿ± ÿßŸÑÿ∏ŸáŸàÿ±
            elements.questionText.classList.add('animate-fade-in');
            setTimeout(() => elements.questionText.classList.remove('animate-fade-in'), 500);
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™
        function displayAnswers() {
            elements.answersGrid.innerHTML = '';
            const letters = ['ÿ£', 'ÿ®', 'ÿ¨', 'ÿØ'];
            
            gameState.currentQuestion.answers.forEach((answer, i) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.dataset.index = i;
                button.innerHTML = `
                    <span class="answer-letter">${letters[i]}</span>
                    <span class="answer-text">${answer}</span>
                `;
                
                button.addEventListener('mouseenter', () => playSound('hover'));
                button.addEventListener('click', () => checkAnswer(i));
                
                elements.answersGrid.appendChild(button);
            });
        }

        // ========== ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ==========

        function checkAnswer(selectedIndex) {
            if (!gameState.gameActive) return;
            
            playSound('click');
            gameState.gameActive = false;
            clearInterval(gameState.timerInterval);
            
            const buttons = elements.answersGrid.querySelectorAll('.answer-btn');
            const correctIndex = gameState.currentQuestion.correct;
            
            // ÿ™ÿπÿ∑ŸäŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ±
            buttons.forEach(btn => btn.disabled = true);
            
            // ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ŸàÿßŸÑÿÆÿßÿ∑ÿ¶ÿ©
            setTimeout(() => {
                buttons.forEach((btn, i) => {
                    if (i === correctIndex) {
                        btn.classList.add('correct');
                        createConfetti();
                    } else if (i === selectedIndex && i !== correctIndex) {
                        btn.classList.add('wrong');
                    }
                });
                
                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©
                if (selectedIndex === correctIndex) {
                    handleCorrectAnswer();
                } else {
                    handleWrongAnswer();
                }
            }, 500);
        }

        function handleCorrectAnswer() {
            const points = LEVEL_POINTS[Math.min(gameState.currentQuestionIndex, LEVEL_POINTS.length - 1)];
            gameState.score += points;
            gameState.correctAnswers++;
            gameState.money = parseInt(PRIZES[Math.min(gameState.currentQuestionIndex, PRIZES.length - 1)].replace(/[^0-9]/g, ''));
            
            // ÿπÿ±ÿ∂ ÿ±ÿ≥ŸàŸÖŸäÿßÿ™ ÿßŸÑŸÜŸÇÿßÿ∑
            createScoreAnimation(points);
            
            // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ£ÿµŸàÿßÿ™
            playSound('correct');
            playSound('applause');
            
            updateDisplay();
            showNotification(`ÿ•ÿ¨ÿßÿ®ÿ© ÿµÿ≠Ÿäÿ≠ÿ©! +${points} ŸÜŸÇÿ∑ÿ©`, "success");
            
            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™
            checkAchievements();
            
            // ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä
            setTimeout(() => {
                gameState.currentQuestionIndex++;
                if (gameState.currentQuestionIndex < CONFIG.totalQuestions) {
                    elements.nextBtn.style.display = 'flex';
                    gameState.gameActive = true;
                } else {
                    endGame(true);
                }
            }, 2500);
        }

        function handleWrongAnswer() {
            playSound('wrong');
            playSound('lose');
            
            showNotification("ÿ•ÿ¨ÿßÿ®ÿ© ÿÆÿßÿ∑ÿ¶ÿ©! ÿßŸÑŸÑÿπÿ®ÿ© ÿßŸÜÿ™Ÿáÿ™.", "error");
            
            setTimeout(() => endGame(false), 2000);
        }

        // ========== ÿßŸÑŸÖÿ§ŸÇÿ™ ==========

        function startTimer() {
            clearInterval(gameState.timerInterval);
            gameState.timer = CONFIG.timePerQuestion;
            elements.timer.textContent = gameState.timer;
            elements.timer.className = 'timer';
            
            gameState.timerInterval = setInterval(() => {
                gameState.timer--;
                elements.timer.textContent = gameState.timer;
                
                if (gameState.timer <= 10) {
                    elements.timer.classList.add('warning');
                    if (gameState.timer <= 5) {
                        playSound('timer');
                    }
                }
                
                if (gameState.timer <= 5) {
                    elements.timer.classList.remove('warning');
                    elements.timer.classList.add('danger');
                }
                
                if (gameState.timer <= 0) {
                    clearInterval(gameState.timerInterval);
                    showNotification("ÿßŸÜÿ™ŸáŸâ ÿßŸÑŸàŸÇÿ™! ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿÆÿßÿ∑ÿ¶ÿ©.", "error");
                    setTimeout(() => endGame(false), 1000);
                }
            }, 1000);
        }

        // ========== ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™ ==========

        function useFiftyFifty() {
            if (gameState.lifelines < 1 || !gameState.gameActive || gameState.usedLifelines.has('fiftyFifty')) return;
            
            playSound('lifeline');
            
            const buttons = elements.answersGrid.querySelectorAll('.answer-btn');
            const correctIndex = gameState.currentQuestion.correct;
            let wrongAnswers = [];
            
            // ÿ•Ÿäÿ¨ÿßÿØ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿÆÿßÿ∑ÿ¶ÿ©
            buttons.forEach((btn, i) => {
                if (i !== correctIndex) wrongAnswers.push(i);
            });
            
            // ÿßÿÆÿ™Ÿäÿßÿ± ÿ•ÿ¨ÿßÿ®ÿ™ŸäŸÜ ÿÆÿßÿ∑ÿ¶ÿ™ŸäŸÜ ÿπÿ¥Ÿàÿßÿ¶ŸäÿßŸã
            shuffleArray(wrongAnswers);
            wrongAnswers.slice(0, 2).forEach(i => {
                buttons[i].style.opacity = '0.3';
                buttons[i].style.pointerEvents = 'none';
                buttons[i].innerHTML += ' <i class="fas fa-times" style="color: #F44336; margin-right: 10px;"></i>';
            });
            
            gameState.lifelines--;
            gameState.usedLifelines.add('fiftyFifty');
            elements.fiftyFiftyBtn.disabled = true;
            updateDisplay();
            
            showNotification("ÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÖÿ≥ÿßÿπÿØÿ© 50:50ÿå ÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿ•ÿ¨ÿßÿ®ÿ™ŸäŸÜ ÿÆÿßÿ∑ÿ¶ÿ™ŸäŸÜ", "info");
        }

        function useAskAudience() {
            if (gameState.lifelines < 1 || !gameState.gameActive || gameState.usedLifelines.has('askAudience')) return;
            
            playSound('lifeline');
            
            const correctIndex = gameState.currentQuestion.correct;
            let percentages = [10, 20, 30, 40];
            
            // ÿ•ÿπÿßÿØÿ© ÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÜÿ≥ÿ® ŸÑÿµÿßŸÑÿ≠ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©
            percentages[correctIndex] = 65;
            
            // ÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÜÿ≥ÿ® ÿßŸÑŸÖÿ™ÿ®ŸÇŸäÿ©
            let remaining = 35;
            for (let i = 0; i < 4; i++) {
                if (i !== correctIndex) {
                    const percent = Math.floor(Math.random() * remaining);
                    percentages[i] = percent;
                    remaining -= percent;
                }
            }
            
            // ÿ∂ŸÖÿßŸÜ ÿ£ŸÜ ÿßŸÑŸÖÿ¨ŸÖŸàÿπ 100
            const sum = percentages.reduce((a, b) => a + b, 0);
            if (sum < 100) percentages[correctIndex] += (100 - sum);
            
            let message = "ÿ™ÿµŸàŸäÿ™ ÿßŸÑÿ¨ŸÖŸáŸàÿ±:\n\n";
            const letters = ['ÿ£', 'ÿ®', 'ÿ¨', 'ÿØ'];
            
            gameState.currentQuestion.answers.forEach((answer, i) => {
                const bars = '‚ñà'.repeat(Math.floor(percentages[i] / 5));
                message += `${letters[i]}) ${bars} ${percentages[i]}%\n`;
            });
            
            showNotification(message, "info", 5000);
            
            gameState.lifelines--;
            gameState.usedLifelines.add('askAudience');
            elements.askAudienceBtn.disabled = true;
            updateDisplay();
        }

        function usePhoneFriend() {
            if (gameState.lifelines < 1 || !gameState.gameActive || gameState.usedLifelines.has('phoneFriend')) return;
            
            playSound('lifeline');
            
            const correctIndex = gameState.currentQuestion.correct;
            const letters = ['ÿ£', 'ÿ®', 'ÿ¨', 'ÿØ'];
            
            const responses = [
                `"ÿ£ÿπÿ™ŸÇÿØ ÿ£ŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ŸáŸä ${letters[correctIndex]}"`,
                `"ÿ®ÿπÿØ ÿ™ŸÅŸÉŸäÿ±ÿå ÿ£ŸÇŸàŸÑ ${letters[correctIndex]}"`,
                `"ÿ£ŸÜÿß ŸÖÿ™ÿ£ŸÉÿØ 80% ÿ£ŸÜŸáÿß ${letters[correctIndex]}"`,
                `"ŸÑŸÇÿØ ÿØÿ±ÿ≥ÿ™ Ÿáÿ∞ÿßÿå ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ${letters[correctIndex]}"`,
                `"Ÿáÿ∞ÿß ÿ≥ÿ§ÿßŸÑ ÿµÿπÿ®ÿå ŸÑŸÉŸÜ ÿ£ÿ∏ŸÜ ÿ£ŸÜŸáÿß ${letters[correctIndex]}"`
            ];
            
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            showNotification(`üìû ÿµÿØŸäŸÇŸÉ ŸäŸÇŸàŸÑ:\n${randomResponse}`, "info", 4000);
            
            gameState.lifelines--;
            gameState.usedLifelines.add('phoneFriend');
            elements.phoneFriendBtn.disabled = true;
            updateDisplay();
        }

        function useHint() {
            if (gameState.lifelines < 1 || !gameState.gameActive) return;
            
            playSound('lifeline');
            
            const category = gameState.currentQuestion.category;
            const difficulty = gameState.currentQuestion.difficulty;
            const difficultyArabic = difficulty === 'easy' ? 'ÿ≥ŸáŸÑ' : difficulty === 'medium' ? 'ŸÖÿ™Ÿàÿ≥ÿ∑' : 'ÿµÿπÿ®';
            
            const hints = [
                `ÿ™ŸÑŸÖŸäÿ≠: ŸÖÿ¨ÿßŸÑ ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸáŸà ${category}`,
                `ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿµÿπŸàÿ®ÿ©: ${difficultyArabic}`,
                `Ÿáÿ∞ÿß ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸÖŸÜ ŸÅÿ¶ÿ© ${category}`,
                `ÿßŸÜÿ™ÿ®Ÿá ÿ¨ŸäÿØÿßŸã ŸÑŸÑÿ™ŸÅÿßÿµŸäŸÑ ŸÅŸä ÿßŸÑÿ≥ÿ§ÿßŸÑ`
            ];
            
            const randomHint = hints[Math.floor(Math.random() * hints.length)];
            showNotification(randomHint, "info", 4000);
            
            gameState.lifelines--;
            elements.hintBtn.disabled = true;
            updateDisplay();
        }

        // ========== ÿßŸÑÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ ÿßŸÑÿ®ÿµÿ±Ÿäÿ© ==========

        function createConfetti(count = 50) {
            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                const colors = ['#6C63FF', '#FF6584', '#36D1DC', '#FFD700', '#4CAF50'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                confetti.style.backgroundColor = color;
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        function createScoreAnimation(points) {
            const scoreEl = document.createElement('div');
            scoreEl.className = 'score-animation';
            scoreEl.textContent = `+${points}`;
            scoreEl.style.left = `${50 + Math.random() * 20 - 10}%`;
            scoreEl.style.top = '50%';
            
            document.body.appendChild(scoreEl);
            
            setTimeout(() => scoreEl.remove(), 2000);
        }

        // ========== ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™ ==========

        function checkAchievements() {
            const achievements = [
                { level: 5, message: 'üéØ ÿ±ÿßÿ¶ÿπ! ŸàÿµŸÑÿ™ ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ 5' },
                { level: 10, message: 'üöÄ ŸÖÿ∞ŸáŸÑ! ŸàÿµŸÑÿ™ ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ 10' },
                { correct: 5, message: 'üèÜ 5 ÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿµÿ≠Ÿäÿ≠ÿ© ŸÖÿ™ÿ™ÿßŸÑŸäÿ©!' },
                { correct: 10, message: 'üëë 10 ÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿµÿ≠Ÿäÿ≠ÿ© ŸÖÿ™ÿ™ÿßŸÑŸäÿ©!' },
                { score: 5000, message: 'üíé 5000 ŸÜŸÇÿ∑ÿ©! ÿ£ŸÜÿ™ ŸÖÿ≠ÿ™ÿ±ŸÅ!' }
            ];
            
            achievements.forEach(achievement => {
                if (achievement.level && gameState.currentLevel === achievement.level) {
                    showAchievement(achievement.message);
                } else if (achievement.correct && gameState.correctAnswers === achievement.correct) {
                    showAchievement(achievement.message);
                } else if (achievement.score && gameState.score >= achievement.score) {
                    showAchievement(achievement.message);
                }
            });
        }

        function showAchievement(message) {
            elements.achievementBadge.textContent = message;
            elements.achievementBadge.classList.add('show');
            playSound('achievement');
            
            setTimeout(() => {
                elements.achievementBadge.classList.remove('show');
            }, 3000);
        }

        // ========== ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÑÿπÿ®ÿ© ==========

        function startGame() {
            if (gameState.gameActive || gameState.questions.length < CONFIG.totalQuestions) {
                showNotification("ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©...", "info");
                return;
            }
            
            playSound('click');
            gameState.gameActive = true;
            gameState.currentQuestionIndex = 0;
            
            elements.startBtn.disabled = true;
            elements.startBtn.innerHTML = '<i class="fas fa-play"></i> ÿßŸÑŸÑÿπÿ®ÿ© ÿ¨ÿßÿ±Ÿäÿ©';
            elements.nextBtn.style.display = 'none';
            elements.quitBtn.style.display = 'flex';
            
            // ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            elements.fiftyFiftyBtn.disabled = false;
            elements.askAudienceBtn.disabled = false;
            elements.phoneFriendBtn.disabled = false;
            elements.hintBtn.disabled = false;
            
            loadQuestion(gameState.currentQuestionIndex);
            startTimer();
            
            showNotification("ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®! ÿßÿÆÿ™ÿ± ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ŸÑÿ™ÿ±ÿ™ŸÇŸä ÿ•ŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ™ÿßŸÑŸä.", "success");
        }

        function nextQuestion() {
            playSound('click');
            elements.nextBtn.style.display = 'none';
            loadQuestion(gameState.currentQuestionIndex);
            startTimer();
            gameState.gameActive = true;
        }

        function endGame(win) {
            clearInterval(gameState.timerInterval);
            gameState.gameActive = false;
            
            // ÿ™ÿπÿ∑ŸäŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            elements.fiftyFiftyBtn.disabled = true;
            elements.askAudienceBtn.disabled = true;
            elements.phoneFriendBtn.disabled = true;
            elements.hintBtn.disabled = true;
            
            elements.startBtn.disabled = false;
            elements.startBtn.innerHTML = '<i class="fas fa-redo"></i> ŸÑÿπÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';
            elements.nextBtn.style.display = 'none';
            elements.quitBtn.style.display = 'flex';
            
            if (win) {
                // ÿ•ÿ∏Ÿáÿßÿ± ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿßÿ≠ÿ™ŸÅÿßŸÑ
                elements.finalPrize.textContent = formatMoney(gameState.money);
                elements.finalScore.textContent = gameState.score;
                elements.finalLevel.textContent = gameState.currentLevel;
                elements.finalQuestions.textContent = gameState.correctAnswers;
                
                playSound('win');
                playSound('applause');
                createConfetti(100);
                
                setTimeout(() => {
                    elements.celebrationScreen.classList.add('show');
                }, 1000);
                
                // ÿ≠ŸÅÿ∏ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©
                saveHighScore();
            } else {
                showNotification(`ÿßŸÜÿ™Ÿáÿ™ ÿßŸÑŸÑÿπÿ®ÿ©! ŸÖÿ¨ŸÖŸàÿπ ŸÜŸÇÿßÿ∑ŸÉ: ${gameState.score} - ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©: ${gameState.correctAnswers}`, "error", 5000);
                playSound('lose');
            }
        }

        function playAgain() {
            playSound('click');
            elements.celebrationScreen.classList.remove('show');
            resetGameState();
            loadQuestion(0);
            updateDisplay();
            createPrizeLadder();
            updateProgressBar();
            
            showNotification("ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÑÿπÿ®ÿ©! ÿ≠ÿ∏ÿßŸã ŸÖŸàŸÅŸÇÿßŸã.", "info");
        }

        function resetGameState() {
            gameState = {
                currentLevel: 1,
                currentQuestionIndex: 0,
                score: 0,
                money: 0,
                lifelines: CONFIG.initialLifelines,
                usedLifelines: new Set(),
                gameActive: false,
                timer: CONFIG.timePerQuestion,
                timerInterval: null,
                usedQuestionIds: new Set(),
                questions: [...gameState.questions], // ÿßŸÑÿßÿ≠ÿ™ŸÅÿßÿ∏ ÿ®ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÖŸÑÿ©
                currentQuestion: null,
                correctAnswers: 0,
                soundEnabled: gameState.soundEnabled,
                sessionId: generateSessionId(),
                loadedQuestionsCount: gameState.loadedQuestionsCount,
                isOnline: gameState.isOnline
            };
        }

        // ========== ÿ£ÿØŸàÿßÿ™ ŸÖÿ≥ÿßÿπÿØÿ© ==========

        function formatMoney(amount) {
            return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + " ÿ±ŸäÿßŸÑ";
        }

        function saveHighScore() {
            try {
                const highScores = JSON.parse(localStorage.getItem('techChallengeHighScores') || '[]');
                highScores.push({
                    score: gameState.score,
                    level: gameState.currentLevel,
                    correct: gameState.correctAnswers,
                    date: new Date().toISOString(),
                    sessionId: gameState.sessionId
                });
                
                highScores.sort((a, b) => b.score - a.score);
                const topScores = highScores.slice(0, 10);
                
                localStorage.setItem('techChallengeHighScores', JSON.stringify(topScores));
            } catch (error) {
                console.warn('ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ŸÅÿ∏ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©:', error);
            }
        }

        function shareScore() {
            const text = `üèÜ ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ${gameState.score} ŸÜŸÇÿ∑ÿ© ŸÅŸä ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ©!\n` +
                        `üìä ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ: ${gameState.currentLevel}\n` +
                        `‚úÖ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©: ${gameState.correctAnswers}\n` +
                        `üí∞ ÿßŸÑÿ¨ÿßÿ¶ÿ≤ÿ©: ${formatMoney(gameState.money)}\n\n` +
                        `ÿ¨ÿ±ÿ® ÿßŸÑÿ™ÿ≠ÿØŸä ÿ®ŸÜŸÅÿ≥ŸÉ!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ŸÜÿ™Ÿäÿ¨ÿ™Ÿä ŸÅŸä ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ©',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ© ÿ•ŸÑŸâ ÿßŸÑÿ≠ÿßŸÅÿ∏ÿ©!', 'success');
                });
            }
        }

        // ========== ŸÖÿ≥ÿ™ŸÖÿπŸä ÿßŸÑÿ£ÿ≠ÿØÿßÿ´ ==========

        function setupEventListeners() {
            // ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ
            elements.startBtn.addEventListener('click', startGame);
            elements.quitBtn.addEventListener('click', () => endGame(false));
            elements.nextBtn.addEventListener('click', nextQuestion);
            
            // ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            elements.fiftyFiftyBtn.addEventListener('click', useFiftyFifty);
            elements.askAudienceBtn.addEventListener('click', useAskAudience);
            elements.phoneFriendBtn.addEventListener('click', usePhoneFriend);
            elements.hintBtn.addEventListener('click', useHint);
            
            // ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ÿßŸÑÿµŸàÿ™
            elements.soundToggle.addEventListener('click', toggleSound);
            
            // ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ hover ŸÑŸÑÿ£ÿ≤ÿ±ÿßÿ±
            document.querySelectorAll('.btn, .control-btn, .answer-btn, .lifeline-btn').forEach(btn => {
                btn.addEventListener('mouseenter', () => {
                    if (!btn.disabled && gameState.soundEnabled) {
                        try {
                            sounds.hover.currentTime = 0;
                            sounds.hover.play().catch(() => {});
                        } catch (error) {
                            // ÿ™ÿ¨ÿßŸáŸÑ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑÿµÿßŸÖÿ™ÿ©
                        }
                    }
                });
            });
        }

        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            elements.soundToggle.classList.toggle('muted', !gameState.soundEnabled);
            playSound('click');
            
            showNotification(gameState.soundEnabled ? 'üîä ÿßŸÑÿµŸàÿ™ ŸÖŸÅÿπŸÑ' : 'üîá ÿßŸÑÿµŸàÿ™ ŸÖÿπÿ∑ŸÑ', 'info', 2000);
        }

                // ========== ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÑÿπÿ®ÿ© ==========
        async function initializeGame() {
            // ÿ•ÿπÿØÿßÿØ ÿßŸÑÿÆŸÑŸÅŸäÿ© ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ©
            createBackgroundAnimation();
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿπŸÜÿßÿµÿ± ÿßŸÑÿµŸàÿ™
            createSoundElements();
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿ≥ŸÑŸÖ ÿßŸÑÿ¨Ÿàÿßÿ¶ÿ≤
            createPrizeLadder();
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπÿ±ÿ∂
            updateDisplay();
            updateProgressBar();
            
            // ÿ•ÿπÿØÿßÿØ ŸÖÿ≥ÿ™ŸÖÿπŸä ÿßŸÑÿ£ÿ≠ÿØÿßÿ´
            setupEventListeners();
            
            // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©
            await loadQuestions();
            
            // ÿ•ÿÆŸÅÿßÿ° ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
            setTimeout(() => {
                elements.loadingScreen.classList.add('hidden');
                showNotification("ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ™ÿ≠ÿØŸä ÿßŸÑÿ™ŸÇŸÜŸäÿ©! ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ≥ÿ™ÿπÿØ ŸÑÿ±ÿ®ÿ≠ ÿßŸÑŸÖŸÑŸäŸàŸÜÿü", "info", 4000);
            }, 1500);
        }

        // ========== ÿØÿßŸÑÿ© ÿßŸÑÿ®ÿØÿ° ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ==========
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('ÿ®ÿØÿ° ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÑÿπÿ®ÿ©...');
            
            try {
                await initializeGame();
                console.log('ÿ™ŸÖ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÑÿπÿ®ÿ© ÿ®ŸÜÿ¨ÿßÿ≠');
            } catch (error) {
                console.error('ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÑÿπÿ®ÿ©:', error);
                elements.loadingText.textContent = "ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÑÿπÿ®ÿ©. ÿ¨ÿßÿ±Ÿä ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©...";
                
                // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ÿ®ÿπÿØ 5 ÿ´ŸàÿßŸÜ
                setTimeout(() => {
                    window.location.reload();
                }, 5000);
            }
        });

        // ========== ÿØÿßŸÑÿ© ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸÖŸÜ ÿßŸÑŸÑÿπÿ®ÿ© ==========
        function confirmQuit() {
            if (gameState.gameActive) {
                if (confirm("ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©ÿü ÿ≥ÿ™ŸÅŸÇÿØ ÿ¨ŸÖŸäÿπ ŸÜŸÇÿßÿ∑ŸÉ ÿßŸÑÿ≠ÿßŸÑŸäÿ©.")) {
                    endGame(false);
                }
            } else {
                endGame(false);
            }
        }

        // ========== ÿ•ÿ∂ÿßŸÅÿ© ÿØÿπŸÖ ÿßŸÑŸÑŸÖÿ≥ ==========
        document.addEventListener('touchstart', function() {}, {passive: true});

        // ========== ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ£ÿØÿßÿ° ==========
        window.addEventListener('load', () => {
            // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ£ÿØÿßÿ° ÿßŸÑÿµŸàÿ™
            Object.values(sounds).forEach(sound => {
                if (sound.pause) sound.pause();
                if (sound.load) sound.load();
            });
            
            // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ∞ÿßŸÉÿ±ÿ©
            window.addEventListener('beforeunload', () => {
                clearInterval(gameState.timerInterval);
                Object.values(sounds).forEach(sound => {
                    sound.pause();
                    sound.src = '';
                });
            });
        });

        // ========== ÿØÿπŸÖ ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ ==========
        document.addEventListener('keydown', (e) => {
            if (!gameState.gameActive) return;
            
            // ŸÖŸÅÿßÿ™Ÿäÿ≠ 1-4 ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™
            if (e.key >= '1' && e.key <= '4') {
                const index = parseInt(e.key) - 1;
                const buttons = elements.answersGrid.querySelectorAll('.answer-btn');
                if (buttons[index] && !buttons[index].disabled) {
                    buttons[index].click();
                }
            }
            
            // ŸÖŸÅÿßÿ™Ÿäÿ≠ ÿßŸÑÿßÿÆÿ™ÿµÿßÿ±ÿßÿ™ ŸÑŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            if (e.key === 'a' || e.key === 'A') useFiftyFifty();      // A ŸÑŸÄ 50:50
            if (e.key === 's' || e.key === 'S') useAskAudience();      // S ŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ¨ŸÖŸáŸàÿ±
            if (e.key === 'd' || e.key === 'D') usePhoneFriend();      // D ŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿµÿØŸäŸÇ
            if (e.key === 'f' || e.key === 'F') useHint();             // F ŸÑŸÑÿ™ŸÑŸÖŸäÿ≠
            if (e.key === ' ') nextQuestion();                         // Space ŸÑŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä
            if (e.key === 'Escape') confirmQuit();                     // Esc ŸÑŸÑÿÆÿ±Ÿàÿ¨
        });

        // ========== ÿ™ÿπÿ≤Ÿäÿ≤ ÿ•ŸÖŸÉÿßŸÜŸäÿ© ÿßŸÑŸàÿµŸàŸÑ ==========
        document.addEventListener('focus', (e) => {
            if (e.target.classList.contains('answer-btn')) {
                playSound('hover');
            }
        }, true);

        // ========== ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÖÿ≠ŸÖŸàŸÑÿ© ==========
        function handleTouchEvents() {
            let startX, startY;
            
            document.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            }, {passive: true});
            
            document.addEventListener('touchend', (e) => {
                if (!startX || !startY) return;
                
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const diffX = startX - endX;
                const diffY = startY - endY;
                
                // Swipe left for next question
                if (Math.abs(diffX) > Math.abs(diffY) && diffX > 50) {
                    if (elements.nextBtn.style.display !== 'none') {
                        elements.nextBtn.click();
                    }
                }
                
                startX = null;
                startY = null;
            }, {passive: true});
        }

        // ÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿØÿßŸÑÿ© ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑŸÖÿ≠ŸÖŸàŸÑ
        handleTouchEvents();

        // ========== ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ£ÿØÿßÿ° ŸÑŸÑÿ±ÿ≥ŸàŸÖ ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ© ==========
        let lastAnimationFrame = 0;
        function optimizeAnimation() {
            const now = Date.now();
            if (now - lastAnimationFrame >= 16) { // ~60fps
                lastAnimationFrame = now;
                // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ±ÿ≥ŸàŸÖ ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ© ŸáŸÜÿß ÿ•ÿ∞ÿß ŸÑÿ≤ŸÖ ÿßŸÑÿ£ŸÖÿ±
            }
            requestAnimationFrame(optimizeAnimation);
        }

        // ÿ®ÿØÿ° ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ±ÿ≥ŸàŸÖ ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ©
        optimizeAnimation();

        // ========== ŸÖÿπÿßŸÑÿ¨ÿ© ÿßÿ™ÿµÿßŸÑ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™ ==========
        window.addEventListener('online', () => {
            if (!gameState.isOnline && gameState.questions.length < CONFIG.totalQuestions * 2) {
                showNotification("ÿ™ŸÖ ÿßÿ≥ÿ™ÿπÿßÿØÿ© ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™ÿå ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©...", "info");
                loadQuestions().then(() => {
                    if (gameState.questions.length > gameState.loadedQuestionsCount) {
                        showNotification("ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™!", "success");
                    }
                });
            }
        });

        window.addEventListener('offline', () => {
            showNotification("ÿ™ŸÖ ŸÅŸÇÿØ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™ÿå ÿ≥Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÅŸÇÿ∑", "warning");
            gameState.isOnline = false;
        });

        // ========== ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ§ÿ´ÿ±ÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ==========
        function addParticleEffect(x, y, color = '#6C63FF', count = 10) {
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = '10px';
                particle.style.height = '10px';
                particle.style.position = 'absolute';
                particle.style.borderRadius = '50%';
                particle.style.backgroundColor = color;
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1000';
                particle.style.opacity = '0.8';
                
                const angle = Math.random() * Math.PI * 2;
                const speed = 2 + Math.random() * 3;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                
                document.body.appendChild(particle);
                
                let posX = x, posY = y;
                const animate = () => {
                    posX += vx;
                    posY += vy;
                    particle.style.left = `${posX}px`;
                    particle.style.top = `${posY}px`;
                    particle.style.opacity = parseFloat(particle.style.opacity) - 0.02;
                    
                    if (parseFloat(particle.style.opacity) > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        particle.remove();
                    }
                };
                animate();
            }
        }

        // ========== ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸàÿßÿ¨Ÿáÿ© ==========
        function enhanceUI() {
            // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ hover ŸÑŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            const lifelines = document.querySelectorAll('.lifeline-btn');
            lifelines.forEach(lifeline => {
                lifeline.addEventListener('mouseenter', () => {
                    if (!lifeline.disabled) {
                        lifeline.style.transform = 'scale(1.05)';
                        lifeline.style.transition = 'transform 0.2s ease';
                    }
                });
                
                lifeline.addEventListener('mouseleave', () => {
                    lifeline.style.transform = 'scale(1)';
                });
                
                lifeline.addEventListener('click', () => {
                    if (!lifeline.disabled) {
                        addParticleEffect(
                            lifeline.getBoundingClientRect().left + lifeline.offsetWidth / 2,
                            lifeline.getBoundingClientRect().top + lifeline.offsetHeight / 2,
                            '#FF6584',
                            15
                        );
                    }
                });
            });
            
            // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑŸÜŸÇÿ± ÿπŸÑŸâ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    if (!this.disabled) {
                        const rect = this.getBoundingClientRect();
                        addParticleEffect(
                            rect.left + rect.width / 2,
                            rect.top + rect.height / 2,
                            this.classList.contains('correct') ? '#4CAF50' : '#F44336',
                            20
                        );
                    }
                });
            });
        }

        // ÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸàÿßÿ¨Ÿáÿ© ÿ®ÿπÿØ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
        setTimeout(enhanceUI, 2000);

        // ========== ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÜŸÇÿßÿ∑ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ==========
        function calculateBonusPoints() {
            const basePoints = LEVEL_POINTS[Math.min(gameState.currentQuestionIndex, LEVEL_POINTS.length - 1)];
            let bonus = 0;
            
            // ŸÖŸÉÿßŸÅÿ£ÿ© ÿßŸÑÿ≥ÿ±ÿπÿ©
            if (gameState.timer > 20) bonus += 50;
            else if (gameState.timer > 10) bonus += 25;
            
            // ŸÖŸÉÿßŸÅÿ£ÿ© ÿßŸÑÿ™ÿ≥ŸÑÿ≥ŸÑ
            if (gameState.correctAnswers >= 5) bonus += 100;
            if (gameState.correctAnswers >= 10) bonus += 250;
            
            // ŸÖŸÉÿßŸÅÿ£ÿ© ÿπÿØŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™
            if (gameState.usedLifelines.size === 0) bonus += 50;
            
            return basePoints + bonus;
        }

        // ========== ÿ™ÿ≠ÿØŸäÿ´ ÿØÿßŸÑÿ© ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ==========
        function checkAnswer(selectedIndex) {
            if (!gameState.gameActive) return;
            
            playSound('click');
            gameState.gameActive = false;
            clearInterval(gameState.timerInterval);
            
            const buttons = elements.answersGrid.querySelectorAll('.answer-btn');
            const correctIndex = gameState.currentQuestion.correct;
            
            // ÿ™ÿπÿ∑ŸäŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ±
            buttons.forEach(btn => btn.disabled = true);
            
            // ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ŸàÿßŸÑÿÆÿßÿ∑ÿ¶ÿ© ŸÖÿπ ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™
            setTimeout(() => {
                buttons.forEach((btn, i) => {
                    if (i === correctIndex) {
                        btn.classList.add('correct');
                        createConfetti();
                        
                        // ÿ™ÿ£ÿ´Ÿäÿ± ÿÆÿßÿµ ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©
                        const rect = btn.getBoundingClientRect();
                        addParticleEffect(
                            rect.left + rect.width / 2,
                            rect.top + rect.height / 2,
                            '#4CAF50',
                            30
                        );
                    } else if (i === selectedIndex && i !== correctIndex) {
                        btn.classList.add('wrong');
                        
                        // ÿ™ÿ£ÿ´Ÿäÿ± ÿÆÿßÿµ ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿÆÿßÿ∑ÿ¶ÿ©
                        const rect = btn.getBoundingClientRect();
                        addParticleEffect(
                            rect.left + rect.width / 2,
                            rect.top + rect.height / 2,
                            '#F44336',
                            20
                        );
                    }
                });
                
                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©
                if (selectedIndex === correctIndex) {
                    const points = calculateBonusPoints();
                    handleCorrectAnswer(points);
                } else {
                    handleWrongAnswer();
                }
            }, 500);
        }

        // ========== ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ÿßŸÑŸäŸàŸÖŸäÿ© ==========
        const dailyChallenges = {
            challenge1: {
                description: "ÿ£ÿ¨ÿ® ÿπŸÑŸâ 5 ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ®ÿØŸàŸÜ ÿ£ÿÆÿ∑ÿßÿ°",
                reward: 500,
                completed: false
            },
            challenge2: {
                description: "ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿßÿ™",
                reward: 300,
                completed: false
            },
            challenge3: {
                description: "ŸàÿµŸÑ ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ 10",
                reward: 1000,
                completed: false
            }
        };

        function checkDailyChallenges() {
            const today = new Date().toDateString();
            const lastPlayed = localStorage.getItem('lastPlayedDate');
            
            if (lastPlayed !== today) {
                // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ÿßŸÑŸäŸàŸÖŸäÿ©
                Object.keys(dailyChallenges).forEach(key => {
                    dailyChallenges[key].completed = false;
                });
                localStorage.setItem('dailyChallenges', JSON.stringify(dailyChallenges));
                localStorage.setItem('lastPlayedDate', today);
            } else {
                // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿ©
                const savedChallenges = localStorage.getItem('dailyChallenges');
                if (savedChallenges) {
                    Object.assign(dailyChallenges, JSON.parse(savedChallenges));
                }
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™
            if (gameState.correctAnswers >= 5) {
                dailyChallenges.challenge1.completed = true;
            }
            if (gameState.usedLifelines.size >= 3) {
                dailyChallenges.challenge2.completed = true;
            }
            if (gameState.currentLevel >= 10) {
                dailyChallenges.challenge3.completed = true;
            }
            
            // ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™
            localStorage.setItem('dailyChallenges', JSON.stringify(dailyChallenges));
            
            // ŸÖŸÜÿ≠ ÿßŸÑŸÖŸÉÿßŸÅÿ¢ÿ™
            Object.values(dailyChallenges).forEach(challenge => {
                if (challenge.completed && !challenge.rewardGranted) {
                    gameState.score += challenge.reward;
                    showNotification(`üéØ ÿ™ÿ≠ÿØŸä ŸÖŸÉÿ™ŸÖŸÑ: ${challenge.description}! +${challenge.reward} ŸÜŸÇÿ∑ÿ©`, "success");
                    challenge.rewardGranted = true;
                }
            });
        }

        // ========== ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÖÿ™ŸÇÿØŸÖÿ© ==========
        function showAdvancedStats() {
            const stats = {
                totalQuestionsAnswered: gameState.currentQuestionIndex,
                correctPercentage: gameState.correctAnswers / (gameState.currentQuestionIndex || 1) * 100,
                averageTime: ((CONFIG.timePerQuestion * gameState.currentQuestionIndex) - gameState.timer) / (gameState.currentQuestionIndex || 1),
                lifelinesUsed: gameState.usedLifelines.size,
                streak: gameState.correctAnswers
            };
            
            return stats;
        }

        // ========== ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ŸàÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ==========
        console.log('ÿßŸÑŸÑÿπÿ®ÿ© ÿ¨ÿßŸáÿ≤ÿ© ŸÑŸÑÿ™ÿ¥ÿ∫ŸäŸÑ!');
    </script>

    <!-- ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿ®ÿ≥Ÿäÿ∑ÿ© -->
    <script>
        // ŸÖÿ™ÿßÿ®ÿπÿ© ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÑÿπÿ®ÿ©
        window.gameAnalytics = {
            startTime: Date.now(),
            totalClicks: 0,
            correctAnswers: 0,
            lifelinesUsed: 0,
            
            trackClick: function() {
                this.totalClicks++;
            },
            
            trackCorrectAnswer: function() {
                this.correctAnswers++;
            },
            
            getSessionDuration: function() {
                return Math.floor((Date.now() - this.startTime) / 1000);
            },
            
            getAccuracy: function() {
                return this.totalClicks > 0 ? (this.correctAnswers / this.totalClicks * 100).toFixed(1) : 0;
            }
        };

        // ÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÜŸÇÿ±ÿßÿ™
        document.addEventListener('click', () => {
            window.gameAnalytics.trackClick();
        });

        // ÿ™ÿ™ÿ®ÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©
        const originalHandleCorrectAnswer = window.handleCorrectAnswer;
        window.handleCorrectAnswer = function(points) {
            window.gameAnalytics.trackCorrectAnswer();
            return originalHandleCorrectAnswer(points);
        };
    </script>

</body>
</html>